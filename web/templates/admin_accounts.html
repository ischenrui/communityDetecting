{% extends 'base/admin_base.html' %}
{% block titlename %}查看用户列表{% endblock %}

{% block head_src %}
<!-- 引入样式 -->
<link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
{% endblock %}

{% block main_content %}


<section id="main-content">
  <section class="wrapper">
      <h3><i class="fa fa-angle-right"></i> 查看用户数据</h3>
        <div class="row mt">
          <div class="col-md-12">
              <div class="form-panel">
                  <table class="table table-striped table-advance table-hover">
                      <h4><i class="fa fa-angle-right"></i> 用户列表</h4>
                      <hr>
                      <thead>
                      <tr>
                          <th></th>
                          <th class="hidden-phone"><i class="fa fa-question-circle"></i> 账号</th>
                          <th><i class="fa fa-bookmark"></i> 姓名</th>
                          <th><i class="fa fa-key"></i> 密码</th>
                          <th><i class="fa fa-key"></i> 权限</th>
                          <th><i class="fa calendar-plus-o"></i> 申请时间</th>
                          <th><i class="fa calendar-minus-o"></i> 更新时间</th>
                          <th><i class="fa user-o"></i> 申请人</th>
                          <th><i class="fa fa-refresh"></i> 刷新</th>
                      </tr>
                      </thead>
                      <tbody>
                      <tr v-for="item in result" :key="item.id">
                          <td>[[item.index]]</a></td>
                          <td>[[item.id]]</a></td>
                          <td>[[item.name]]</a></td>
                          <td>[[item.psd]]</a></td>
                          <td>[[item.status]]</a></td>
                          <td>[[item.create_time]]</a></td>
                          <td>[[item.modify_time]]</a></td>
                          <td>[[item.create_account]]</a></td>
                          <td>
                              <button class="btn btn-primary btn-xs" @click="edit(item)"><i class="fa fa-pencil"></i></button>
                              <button class="btn btn-danger btn-xs" @click="remove(item.id)"><i class="fa fa-trash-o "></i></button>
                          </td>
                      </tr>

                      </tbody>
                  </table>
              </div><!-- /content-panel -->
              <!--翻页-->
            <div class="block">
                <el-pagination
                  @size-change="handleSizeChange"
                  @current-change="handleCurrentChange"
                  :current-page.sync="currentPage"
                  :page-sizes="[5, 10, 20]"
                  :page-size="pageSize"
                  layout="sizes, prev, pager, next"
                  :total="totalNum"></el-pagination>
            </div>
          </div><!-- /col-md-12 -->

        </div><!-- /row -->


    <!-- BASIC FORM ELELEMNTS -->
	  <div class="row mt" id="edit_block" style="display:none;">
		  <div class="col-lg-12">
		      <div class="form-panel">
			  <h4 class="mb"><i class="fa fa-angle-right"></i> 编辑用户信息</h4>
			  <form class="form-horizontal style-form">

				  <div class="form-group">
					  <label class="col-sm-2 col-sm-2 control-label">登录账号</label>
					  <div class="col-sm-10">
                          <p class="form-control-static" >[[the_account.id]]</p>
                      </div>
				  </div>
				  <div class="form-group">
					  <label class="col-sm-2 col-sm-2 control-label">更新姓名</label>
					  <div class="col-sm-10">
						  <input type="text"  class="form-control" name="name" placeholder="请输入姓名">
					  </div>
				  </div>

				  <div class="form-group">
					  <label class="col-sm-2 col-sm-2 control-label">更新密码</label>
					  <div class="col-sm-10">
						  <input type="text"  class="form-control" name="password" placeholder="请输入密码">
					  </div>
				  </div>
				  <div class="form-group">
					  <label class="col-sm-2 col-sm-2 control-label">更新用户类型</label>
                      <div class="col-sm-10">
                          <select class="form-control" name="type">
                              <option></option>
                              <option>管理员</option>
                              <option>研究人员</option>
                              <option>商务人员</option>
                          </select>
                      </div>
				  </div>
				  <div class="form-group">
                      <div class="col-sm-12">
                        <div class="col-sm-6"><button type="submit" class="btn btn-theme col-sm-4" @click="update_submit($event)" style="display:block;margin:0 auto">提交</button></div>
                        <div class="col-sm-6" style="text-align:center"><button class="btn btn-theme col-sm-4" @click="clear($event)">清空</button></div>
                      </div>
				  </div>
                  <div class="form-error"  style="text-align:center;color:red"><i></i><label class="text"></label></div>
              </form>

		  </div>
		  </div><!-- col-lg-12-->
	  </div>
      <!-- /row -->

  </section><! --/wrapper -->
</section><!-- /MAIN CONTENT -->

{% endblock %}

{% block js_file %}
<!-- 引入Vue -->
<script src="../static/js/admin/edit_account.js"></script>
{% endblock %}
